
# source: see tmux(1) man

# use vi editing commands
set-option -g mode-keys vi

# use 256 color terminal
# source: https://github.com/tmux/tmux/wiki/FAQ#how-do-i-use-a-256-colour-terminal
set-option -g default-terminal 'screen-256color'

# increase scrollback lines
set-option -g history-limit 20000

# start window numbers at 1 to match keyboard order with tmux window order
set-option -g base-index 1
set-window-option -g pane-base-index 1

# renumber windows sequentially after closing any of them
set-option -g renumber-windows on

# default commands of splitting panes but uses last pane's path
bind-key '"' split-window -v -c "#{pane_current_path}"
bind-key %   split-window -h -c "#{pane_current_path}"
bind-key c   new-window -c "#{pane_current_path}"

# Prefix+p displays search similar to vscode's <C-p>
# and pastes it into current cursor position
bind-key p {
	run-shell -C {
		display-popup -EE -w 100% {
			~/.config/tmux.d/find-file.zsh --separator=' ' "#{pane_current_path}" > /tmp/find-file-buffer
		}
		load-buffer /tmp/find-file-buffer
		paste-buffer
		delete-buffer
	}
}
